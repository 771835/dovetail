# 基本概念

## 1. 什么是 dovetail 语言？

这是门为mc指令设计的编程语言，它可以帮助你将高级代码转换为mc的指令。就像学习任何新语言一样，你需要掌握基本的语法规则。

## 2. 基本程序结构

### 2.1 最简单的程序

```dovetail
func main() {
    print("Hello World!");
}
```

### 2.2 程序可以包含什么？

函数 - 执行特定任务的代码块  
类 - 对象的模板  
变量 - 存储数据的容器  
常量 - 不会改变的值

## 3. 函数基础

### 3.1 定义函数

#### 3.1.1 无参数函数

无参函数即声明时不存在形参，调用时不会传入任何值

```dovetail
func sayHello(){
    print("你好！");
}
```

#### 3.1.2 有参数函数

有参函数即声明时存在一或多个形参，调用时会将形参复制

```dovetail
// 有参数函数
func greet(name: string){
    print("你好，" + name);
}
```

#### 3.1.3 有参数函数

选填参数即声明时存在一或多个形参  
且有一或多个形参采用`形参名=默认值`的写法， 调用时会将实参复制

需注意问题

- 若选填形参不存在对应传入实参将会复制默认值
- 选填参数必须在最后，若有一个非选填参数未填编译器将报错
- 选填形参默认值不应该为可变类型(如类的实例)

```dovetail
// 选填参数函数
func greet(name: string = "世界"){
    print("你好，" + name);
}
```

#### 3.1.4 有参数函数

<!-- Π! -->

#### 3.1.4.1 返回数据

使用`return`关键字返回，返回值函数会将数据返回调用处，在声明时需标记返回值的类型，如何标记见3.1.4.2

需注意问题

- 不返回是未定义行为，可能造成任何未知问题
- 返回类型需完全和标记返回值一致，无论返回数据类型是否是标记类型的子类

```dovetail
// 有返回值的函数
func add(a: int, b: int) -> int {
    return a + b;
}
```

#### 3.1.4.2 标记返回值类型

```dovetail
// 可由以下方法对返回值类型标记

// 通过->符号
func add(a: int, b: int) -> int {
    return a + b;
}

// 通过:符号
func add(a: int, b: int) : int {
    return a + b;
}

// 通过as符号
func add(a: int, b: int) as int {
    return a + b;
}

// 通过fuck符号
func add(a: int, b: int) fuck int {
    return a + b;
}

```

### 3.2 调用函数

```dovetail
sayHello();                    // 调用无参数函数
greet("小明");                // 调用有参数函数
let result = add(5, 3);       // 调用有返回值的函数
```

## 4. 变量和常量

### 4.1 声明变量

```dovetail
let name = "小明";           // 自动识别类型
let age: int = 25;           // 明确指定类型
let isStudent: boolean = true; // 布尔值
```

对于明确类型的变量，还允许简写成如下

```dovetail
int age = 25;
```

声明而无初始值的变量需标明类型
> 使用未赋值的变量是未定义行为

```dovetail
int foo;
```

### 4.2 声明常量

```dovetail
const MAX_USERS: int = 100;  // 指定类型的常量
```

## 5. 数据类型

### 5.1 基本类型

int - 整数：42, -5, 0  
string - 文本："你好"，"Hello"  
boolean - 布尔值：true 或 false  
null - 空值 不可初始化为该类型

### 5.2 字符串操作

```dovetail
let greeting = "你好";
let name = "世界";
let message = greeting + "，" + name + "！";  // 字符串拼接
let template = f"你好，{name}！";             // 插值字符串
```

## 6. 条件语句

### 6.1 if语句

```dovetail
let age = 18;

if (age >= 18) {
    print("你已经成年了");
} else {
    print("你还未成年");
}
```

### 6.2 比较运算符

\> 大于  
\< 小于  
\>= 大于等于  
\<= 小于等于   
\== 等于  
\!= 不等于

## 7. 循环语句

### 7.1 for循环

```dovetail
// for循环
for (let i = 0; i < 5; i++) {
    print(i);
}
```

### 7.2 while循环

```dovetail
let count = 0;
while (count < 3) {
    print("计数: " + count);
    count = count + 1;
}
```

## 8. 类和对象

见进阶[1-3](1-3.md)

## 9. 数组

见进阶[1-3](1-3.md)

## 10. 常用语法符号

### 10.1 分隔符

; 分号 - 结束语句（可选）  
{} 大括号 - 包围代码块  
() 小括号 - 包围参数和条件  
[] 中括号 - 访问数组元素

### 10.2 注释

```dovetail
// 这是单行注释
# 这也是单行注释

/*
这是多行注释
可以写多行
*/
```

## 11. 常见错误提示

### 11.1 语法错误

忘记分号或括号  
拼写错误  
类型不匹配

### 11.2 调试建议

仔细检查拼写  
确保所有括号都成对出现  
检查变量名是否正确  
确认数据类型使用正确

## 12. 下一步学习

<!-- 学习只能你自己学，所以不写(doge -->
记住：编程就像学习任何新技能一样，多练习是关键！